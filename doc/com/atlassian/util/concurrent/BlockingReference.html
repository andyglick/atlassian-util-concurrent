<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_07) on Sun May 24 12:58:30 EST 2009 -->
<TITLE>
BlockingReference
</TITLE>

<META NAME="date" CONTENT="2009-05-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BlockingReference";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../com/atlassian/util/concurrent/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BlockingReference.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/Awaitable.html" title="interface in com.atlassian.util.concurrent"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/BooleanLatch.html" title="class in com.atlassian.util.concurrent"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/atlassian/util/concurrent/BlockingReference.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BlockingReference.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.atlassian.util.concurrent</FONT>
<BR>
Class BlockingReference&lt;V&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.atlassian.util.concurrent.BlockingReference&lt;V&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>V</CODE> - the value type</DL>
<HR>
<DL>
<DT><PRE><FONT SIZE="-1">@ThreadSafe
</FONT>public class <B>BlockingReference&lt;V&gt;</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
A Reference with queue semantics where the current reference may be retrieved
 or taken instead, and if there is no current element then it will be block
 until the reference becomes available. This is somewhat analogous to a single
 element <CODE>BlockingQueue</CODE>.
 <p>
 Note: this class does not support null elements being <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#set(V)"><CODE>set(Object)</CODE></A>
 and will throw an exception. If the internal reference is null, then calls to
 <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()"><CODE>take()</CODE></A> or <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take(long, java.util.concurrent.TimeUnit)"><CODE>take(long, TimeUnit)</CODE></A> will block.
 <p>
 This class is most suited to <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newSRSW()"><CODE>SRSW</CODE></A> or <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newMRSW()"><CODE>MRSW</CODE></A> usage. Multiple writers will overwrite each other's elements and the
 chosen value will be arbitrary in the absence of any external consensus. If
 multiple readers are waiting to <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()"><CODE>take()</CODE></A> a value, one reader will be
 arbitrarily chosen (similar to <CODE>Condition.signal()</CODE>). Multiple readers
 can however <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#get()"><CODE>get()</CODE></A> the current value if it is not null, but they may
 see the current value more than once. If multiple readers attempt to
 <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#get()"><CODE>get()</CODE></A> a value from the SRSW reference and it is not yet present then
 only one waiting thread may be notified, please use the MRSW version for this
 case.
 <p>
 This implementation has been optimized for SRSW performance with
 <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#set(V)"><CODE>set(Object)</CODE></A>/<A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()"><CODE>take()</CODE></A> pairs.
 <p>
 Prometheus contains a similar construct called an <a href"http://prometheus.codehaus.org/javadoc/main/org/codehaus/prometheus/references/AwaitableReference.html"
 >AwaitableReference</a>. This class is more explicit in that it handles
 take/get separately.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Jed Wesley-Smith</DD>
<DT><B>See Also:</B><DD><CODE>BlockingQueue</CODE></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#BlockingReference()">BlockingReference</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>use <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newSRSW()"><CODE>newSRSW()</CODE></A> instead.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#BlockingReference(V)">BlockingReference</A></B>(<A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A>&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>use <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newSRSW()"><CODE>newSRSW()</CODE></A> instead.</I></TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#clear()">clear</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clear the current reference.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#get()">get</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the current element if it is not null, if it is null then this
 method blocks and waits until it is not null.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#get(long, java.util.concurrent.TimeUnit)">get</A></B>(long&nbsp;time,
    java.util.concurrent.TimeUnit&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the current element if it is not null, if it is null then this
 method blocks and waits until it is not null.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#isEmpty()">isEmpty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether or not the current value is null or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;V&gt; <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="class in com.atlassian.util.concurrent">BlockingReference</A>&lt;V&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newMRSW()">newMRSW</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a BlockingReference best suited to multi-reader/single-writer
 situations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;V&gt; <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="class in com.atlassian.util.concurrent">BlockingReference</A>&lt;V&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newMRSW(V)">newMRSW</A></B>(V&nbsp;initialValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a BlockingReference best suited to multi-reader/single-writer
 situations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;V&gt; <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="class in com.atlassian.util.concurrent">BlockingReference</A>&lt;V&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newSRSW()">newSRSW</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a BlockingReference best suited to single-reader/single-writer
 situations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;V&gt; <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="class in com.atlassian.util.concurrent">BlockingReference</A>&lt;V&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newSRSW(V)">newSRSW</A></B>(V&nbsp;initialValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a BlockingReference best suited to single-reader/single-writer
 situations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#peek()">peek</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the current value whether is null or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#set(V)">set</A></B>(<A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A>&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the value of this reference.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()">take</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes the current element if it is not null and replaces it with null.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take(long, java.util.concurrent.TimeUnit)">take</A></B>(long&nbsp;time,
     java.util.concurrent.TimeUnit&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes the current element if it is not null and replaces it with null.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BlockingReference()"><!-- --></A><H3>
BlockingReference</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>public <B>BlockingReference</B>()</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>use <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newSRSW()"><CODE>newSRSW()</CODE></A> instead.</I>
<P>
<DD>Creates a new SRSW BlockingReference.
<P>
</DL>
<HR>

<A NAME="BlockingReference(java.lang.Object)"><!-- --></A><A NAME="BlockingReference(V)"><!-- --></A><H3>
BlockingReference</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>public <B>BlockingReference</B>(<FONT SIZE="-1"><A HREF="../../../../com/atlassian/util/concurrent/NotNull.html" title="annotation in com.atlassian.util.concurrent">@NotNull</A></FONT>
                                    <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A>&nbsp;value)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>use <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#newSRSW()"><CODE>newSRSW()</CODE></A> instead.</I>
<P>
<DD>Creates a new SRSW BlockingReference.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="newSRSW()"><!-- --></A><H3>
newSRSW</H3>
<PRE>
public static &lt;V&gt; <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="class in com.atlassian.util.concurrent">BlockingReference</A>&lt;V&gt; <B>newSRSW</B>()</PRE>
<DL>
<DD>Create a BlockingReference best suited to single-reader/single-writer
 situations. In a MRSW case this instance may get missed signals if
 multiple reader threads are all waiting on the value.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="newSRSW(java.lang.Object)"><!-- --></A><A NAME="newSRSW(V)"><!-- --></A><H3>
newSRSW</H3>
<PRE>
public static &lt;V&gt; <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="class in com.atlassian.util.concurrent">BlockingReference</A>&lt;V&gt; <B>newSRSW</B>(V&nbsp;initialValue)</PRE>
<DL>
<DD>Create a BlockingReference best suited to single-reader/single-writer
 situations. In a MRSW case this instance may get missed signals if
 multiple reader threads are all waiting on the value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>initialValue</CODE> - the initial value</DL>
</DD>
</DL>
<HR>

<A NAME="newMRSW()"><!-- --></A><H3>
newMRSW</H3>
<PRE>
public static &lt;V&gt; <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="class in com.atlassian.util.concurrent">BlockingReference</A>&lt;V&gt; <B>newMRSW</B>()</PRE>
<DL>
<DD>Create a BlockingReference best suited to multi-reader/single-writer
 situations. In a SRSW case this instance may not perform quite as well.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="newMRSW(java.lang.Object)"><!-- --></A><A NAME="newMRSW(V)"><!-- --></A><H3>
newMRSW</H3>
<PRE>
public static &lt;V&gt; <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="class in com.atlassian.util.concurrent">BlockingReference</A>&lt;V&gt; <B>newMRSW</B>(V&nbsp;initialValue)</PRE>
<DL>
<DD>Create a BlockingReference best suited to multi-reader/single-writer
 situations. In a SRSW case this instance may not perform quite as well.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>initialValue</CODE> - the initial value</DL>
</DD>
</DL>
<HR>

<A NAME="take()"><!-- --></A><H3>
take</H3>
<PRE>
<FONT SIZE="-1"><A HREF="../../../../com/atlassian/util/concurrent/NotNull.html" title="annotation in com.atlassian.util.concurrent">@NotNull</A>
</FONT>public <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A> <B>take</B>()
       throws java.lang.InterruptedException</PRE>
<DL>
<DD>Takes the current element if it is not null and replaces it with null. If
 the current element is null then wait until it becomes non-null.
 <p>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method; or
 <li>is <CODE>interrupted</CODE> while waiting,
 </ul>
 then <CODE>InterruptedException</CODE> is thrown and the current thread's
 interrupted status is cleared.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the current element
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE> - if the current thread is interrupted while
 waiting</DL>
</DD>
</DL>
<HR>

<A NAME="take(long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
take</H3>
<PRE>
<FONT SIZE="-1"><A HREF="../../../../com/atlassian/util/concurrent/NotNull.html" title="annotation in com.atlassian.util.concurrent">@NotNull</A>
</FONT>public <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A> <B>take</B>(long&nbsp;time,
                      java.util.concurrent.TimeUnit&nbsp;unit)
       throws java.util.concurrent.TimeoutException,
              java.lang.InterruptedException</PRE>
<DL>
<DD>Takes the current element if it is not null and replaces it with null. If
 the current element is null then wait until it becomes non-null. The
 method will throw a <CODE>TimeoutException</CODE> if the timeout is reached
 before an element becomes available.
 <p>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method; or
 <li>is <CODE>interrupted</CODE> while waiting,
 </ul>
 then <CODE>InterruptedException</CODE> is thrown and the current thread's
 interrupted status is cleared.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>time</CODE> - the maximum time to wait<DD><CODE>unit</CODE> - the time unit of the <code>timeout</code> argument
<DT><B>Returns:</B><DD>the current element
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE> - if the current thread is interrupted while
 waiting
<DD><CODE>java.util.concurrent.TimeoutException</CODE> - if the timeout is reached without another thread
 having called <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#set(V)"><CODE>set(Object)</CODE></A>.</DL>
</DD>
</DL>
<HR>

<A NAME="get()"><!-- --></A><H3>
get</H3>
<PRE>
<FONT SIZE="-1"><A HREF="../../../../com/atlassian/util/concurrent/NotNull.html" title="annotation in com.atlassian.util.concurrent">@NotNull</A>
</FONT>public <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A> <B>get</B>()
      throws java.lang.InterruptedException</PRE>
<DL>
<DD>Gets the current element if it is not null, if it is null then this
 method blocks and waits until it is not null. Unlike <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()"><CODE>take()</CODE></A> it
 does not reset the current element to null.
 <p>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method; or
 <li>is <CODE>interrupted</CODE> while waiting,
 </ul>
 then <CODE>InterruptedException</CODE> is thrown and the current thread's
 interrupted status is cleared.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the current element
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE> - if the current thread is interrupted while
 waiting</DL>
</DD>
</DL>
<HR>

<A NAME="get(long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
get</H3>
<PRE>
<FONT SIZE="-1"><A HREF="../../../../com/atlassian/util/concurrent/NotNull.html" title="annotation in com.atlassian.util.concurrent">@NotNull</A>
</FONT>public <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A> <B>get</B>(long&nbsp;time,
                     <FONT SIZE="-1"><A HREF="../../../../com/atlassian/util/concurrent/NotNull.html" title="annotation in com.atlassian.util.concurrent">@NotNull</A></FONT>
                     java.util.concurrent.TimeUnit&nbsp;unit)
      throws java.util.concurrent.TimeoutException,
             java.lang.InterruptedException</PRE>
<DL>
<DD>Gets the current element if it is not null, if it is null then this
 method blocks and waits until it is not null. Unlike <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()"><CODE>take()</CODE></A> it
 does not reset the current element to null.
 <p>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method; or
 <li>is <CODE>interrupted</CODE> while waiting,
 </ul>
 then <CODE>InterruptedException</CODE> is thrown and the current thread's
 interrupted status is cleared.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the current element
<DT><B>Throws:</B>
<DD><CODE>java.util.concurrent.TimeoutException</CODE> - if the timeout is reached without another thread
 having called <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#set(V)"><CODE>set(Object)</CODE></A>.
<DD><CODE>java.lang.InterruptedException</CODE> - if the current thread is interrupted while
 waiting</DL>
</DD>
</DL>
<HR>

<A NAME="set(java.lang.Object)"><!-- --></A><A NAME="set(V)"><!-- --></A><H3>
set</H3>
<PRE>
public void <B>set</B>(<FONT SIZE="-1"><A HREF="../../../../com/atlassian/util/concurrent/NotNull.html" title="annotation in com.atlassian.util.concurrent">@NotNull</A></FONT>
                <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A>&nbsp;value)</PRE>
<DL>
<DD>Set the value of this reference. This method is lock-free. A thread
 waiting in <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()"><CODE>take()</CODE></A> or <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take(long, java.util.concurrent.TimeUnit)"><CODE>take(long, TimeUnit)</CODE></A> will be
 released and given this value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>value</CODE> - the new value.</DL>
</DD>
</DL>
<HR>

<A NAME="isEmpty()"><!-- --></A><H3>
isEmpty</H3>
<PRE>
public boolean <B>isEmpty</B>()</PRE>
<DL>
<DD>Whether or not the current value is null or not. If this is true and the
 next call to <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()"><CODE>take()</CODE></A> or <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take(long, java.util.concurrent.TimeUnit)"><CODE>take(long, TimeUnit)</CODE></A> will not
 block.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the current reference is null.</DL>
</DD>
</DL>
<HR>

<A NAME="peek()"><!-- --></A><H3>
peek</H3>
<PRE>
<FONT SIZE="-1"><A HREF="../../../../com/atlassian/util/concurrent/Nullable.html" title="annotation in com.atlassian.util.concurrent">@Nullable</A>
</FONT>public <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html" title="type parameter in BlockingReference">V</A> <B>peek</B>()</PRE>
<DL>
<DD>Return the current value whether is null or not. If this is true and the
 next call to <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take()"><CODE>take()</CODE></A> or <A HREF="../../../../com/atlassian/util/concurrent/BlockingReference.html#take(long, java.util.concurrent.TimeUnit)"><CODE>take(long, TimeUnit)</CODE></A> will not
 block.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the current reference or null if there is none.</DL>
</DD>
</DL>
<HR>

<A NAME="clear()"><!-- --></A><H3>
clear</H3>
<PRE>
public void <B>clear</B>()</PRE>
<DL>
<DD>Clear the current reference.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../com/atlassian/util/concurrent/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BlockingReference.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/Awaitable.html" title="interface in com.atlassian.util.concurrent"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/atlassian/util/concurrent/BooleanLatch.html" title="class in com.atlassian.util.concurrent"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/atlassian/util/concurrent/BlockingReference.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BlockingReference.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
